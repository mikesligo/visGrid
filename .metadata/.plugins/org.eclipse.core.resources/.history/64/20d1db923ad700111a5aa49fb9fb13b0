package threads;

import java.io.BufferedReader;
import java.io.File;
import java.io.FileReader;
import java.io.InputStream;

import org.eclipse.core.resources.IFile;

import http.Property;

public class EMFThread {
	public IFile file;

	public EMFThread(IFile file){
		this.file = file;
	}

	public void run() {
		try{
			InputStream in = file.getContents();

			BufferedReader br = new BufferedReader(new FileReader("/home/mike/src/runtime-EclipseApplication/exampleplugin/example.visgrid"));
			String line;
			while((line = br.readLine()) != null) {
				if (line.contains("connections")){
					int first = line.indexOf("name=") + 6;
					int second = line.indexOf("\"",first);
					String name = line.substring(first,second);
					System.out.println(line);
				}
			}
		} catch (Exception e){
			e.printStackTrace();
		}
	}
}
