package graph;

import ie.tcd.gmf.visgrid.graph.actions.LiveGraphCreator;

import java.io.File;
import java.net.URI;

import manager.LiveGraphManager;

import org.LiveGraph.LiveGraph;
import org.LiveGraph.settings.DataFileSettings;

public class GraphHelper {
	
	private LiveGraphManager manager;
	
	public GraphHelper(){
	}
	
	public void init(){
		String loc = null;
		try {
			File tempFileLiveGraph = new File("visGridLiveGraph/");
			loc = tempFileLiveGraph.getAbsolutePath();
			tempFileLiveGraph.mkdirs();
			manager = new LiveGraphManager(tempFileLiveGraph.toURI());
		} catch (Exception e1) {
			System.err.println("Error in GraphHelper when creating new LiveGraphManager");
			e1.printStackTrace();
		}
		
		try {
			// Set the settings and save the settings file
			//DataFileSettings dfs = new DataFileSettings();
			//dfs.setDataFile(graph.getDataLoc());
			//dfs.setUpdateFrequency(1000);
			// Create the paramaters to be in visGridGraphData dir and launch
			//LiveGraph app = LiveGraph.application();
			//String loc = this.graph.saveLocation.getPath().toString();
			// save the settings above, ie. datafilesettings
			//dfs.save(loc+"dataFileSettings.lgdfs");
			String[] params = new String[] {"-dfs",loc+ "dataFileSettings.lgdfs","-gs",loc+"graphSettings.lggs","-dss", loc+"dataSeriesSettings.lgdss", "-f",loc+"visGridGraphData.csv"};
			LiveGraph app = LiveGraph.application();
		} catch (Exception e){
			System.err.println("Error when starting liveGraph");
			e.printStackTrace();
		}
	}

}
